<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <!-- order point view  -->
        <record id="inherit_view_warehouse_orderpoint_tree1" model="ir.ui.view">
            <field name="name">inherit.stock.warehouse.orderpoint.tree1</field>
            <field name="model">stock.warehouse.orderpoint</field>
            <field name="inherit_id" ref="stock.view_warehouse_orderpoint_tree"/>
            <field name="arch" type="xml">
                <tree position="attributes">
                    <attribute name="colors">red:qty_available-product_min_qty&lt;0;blue:qty_available-product_min_qty&gt;0</attribute>
                </tree>
                <field name="product_max_qty" position="after">
                    <field name="qty_available"/>
                </field>
            </field>
        </record>
        <record id="inherit_view_warehouse_orderpoint_form1" model="ir.ui.view">
            <field name="name">inherit.stock.warehouse.orderpoint.form1</field>
            <field name="model">stock.warehouse.orderpoint</field>
            <field name='inherit_id' ref='stock.view_warehouse_orderpoint_form'/>
            <field name="arch" type="xml">
                <field name="product_max_qty" position="after">
                    <field name="qty_available"/>
                </field>
            </field>
        </record>
        <menuitem action="stock.action_orderpoint_form" name="安全库存" id="menu_stock_order_points_for_material_control"
                  parent="mtlcs_base.sub_menu_preparation_management" sequence="10"/>


        <!-- Picking Search  View -->
        <record id="inherit_view_picking_search" model="ir.ui.view">
            <field name="name">inherit.stock..search</field>
            <field name="model">stock.picking</field>
            <field name='inherit_id' ref='stock.view_picking_internal_search'/>
            <field name="arch" type="xml">
                <filter name="backorder" position="after">
                    <filter name="uncompleted" string="未完成" domain="[('state','not in',['done','cancel'])]"/>
                </filter>
            </field>
        </record>
        <!-- Picking Tree View -->
        <record id="inherit_vpicktree" model="ir.ui.view">
            <field name="name">inherit.stock.picking.tree</field>
            <field name="model">stock.picking</field>
            <field name='inherit_id' ref='stock.vpicktree'/>
            <field name="arch" type="xml">
                <field name="name" position="after">
                    <field name="location_id" string="源库位"/>
                </field>
                <field name="state" position="after">
                    <field name="account_touched"/>
                </field>
            </field>
        </record>
        <!-- Picking Form View -->
        <record id="inherit_view_move_picking_tree" model="ir.ui.view">
            <field name="name">stock.move.tree</field>
            <field name="model">stock.move</field>
            <field name='inherit_id' ref='stock.view_move_picking_tree'/>
            <field name="arch" type="xml">
                <field name="location_id" groups="stock.group_locations" invisible="1" position="replace"/>
                <field name="location_dest_id" position="before">
                    <field name="location_id" groups="stock.group_locations"/>
                </field>
            </field>
        </record>
        <record id="inherit_view_picking_form" model="ir.ui.view">
            <field name="name">inherit.stock.picking.form</field>
            <field name="model">stock.picking</field>
            <field name='inherit_id' ref='stock.view_picking_form'/>
            <field name="arch" type="xml">
                <button name="action_assign" position="attributes">
                    <attribute name="groups">stock.group_stock_userr</attribute>
                </button>
                <button name="force_assign" position="attributes">
                    <attribute name="groups">stock.group_stock_userr</attribute>
                </button>
                <button string="Reverse Transfer" position="attributes">
                    <attribute name="groups">base.group_system</attribute>
                </button>

                <button string="Reverse Transfer" position="after">
                    <button name="%(stock.act_stock_return_picking)d" string="退货" states="done" type="action"
                            groups="purchase.group_purchase_user,mtlcs_base.group_material_control_user"/>
                    <button name="account_touch" string="财务签收"
                            attrs="{'invisible':['|',('state','!=','done'),('account_touched','=',True)]}" type="object"
                            groups="account.group_account_user"/>
                </button>
                <field name="partner_id" position="after">
                    <field name="department_id" attrs="{'invisible':[('picking_type_code','!=','internal')]}"/>
                    <field name="create_uid" readonly="1"/>
                    <field name="account_touched"/>
                </field>
            </field>
        </record>


        <!-- Quick picking form view  extend -->
        <record id="picking_quick_form_extend" model="ir.ui.view">
            <field name="name">stock.picking.form</field>
            <field name="model">stock.picking</field>
            <field name='inherit_id' ref='stock_quick_entry.picking_quick_form'/>
            <field name="arch" type="xml">
                <field name="state" position="after">
                    <!--物料到生产仓-->
                    <!--multi company-->
                    <!--<div attrs="{'invisible': [('picking_type_id','!=',%(mtlcs_stock.picking_type_material_production)d)]}"-->
                         <!--note="物料到生产仓">-->
                    <div attrs="{'invisible': [('picking_type_id','!=', %(mtlcs_stock.picking_type_material_production)d)]}" note="物料到生产仓">
                        <button name="action_confirm" string="申请领料" states="draft" type="object" class="oe_highlight"
                                groups="base.group_user"/>
                        <button name="technical_approve" string="审批（工艺）"
                                attrs="{'invisible':[('mtl_state','!=','w_technical')]}" type="object"
                                class="oe_highlight"
                                groups="mtlcs_base.group_technical_user"/>
                        <button name="general_manager_approve" string="审批（总经办）"
                                attrs="{'invisible':[('mtl_state','!=','w_general_manager')]}" type="object"
                                class="oe_highlight"
                                groups="mtlcs_base.group_production_chief_inspector"/>
                        <button name="action_assign" string="审批（物控）"
                                attrs="{'invisible':['|',('state','!=', 'confirmed'),('mtl_state','!=','grant')]}"
                                type="object" class="oe_highlight"
                                groups="mtlcs_base.group_material_control_user"/>
                        <button name="do_enter_transfer_details" states="assigned,partially_available" string="出库"
                                groups="stock.group_stock_user" type="object" class="oe_highlight"/>
                        <button name="create_return_picking" string="创建退料" states="done" type="object"
                                groups="mtlcs_base.group_material_control_user"/>
                        <button name="print_by_usage" string="打印领料单" context="{'usage':'slip'}" states="assigned,done"
                                type="object"
                                groups="mtlcs_base.group_material_control_user"/>
                    </div>
                    <!--生产到物料仓-->
                    <!--multi company-->
                    <!--<div attrs="{'invisible': [('picking_type_id','!=',%(mtlcs_stock.picking_type_material_production_return)d)]}"-->
                         <!--note="生产到物料仓">-->
                    <div attrs="{'invisible': [('picking_type_id','!=',%(mtlcs_stock.picking_type_material_production_return)d)]}"
                         note="生产到物料仓">
                        <button name="action_confirm" string="申请退料" states="draft" type="object" class="oe_highlight"
                                groups="base.group_user"/>
                        <button name="action_assign" string="审批（物控）" states="confirmed" type="object"
                                class="oe_highlight"
                                groups="mtlcs_base.group_material_control_user"/>
                        <button name="do_enter_transfer_all_once" states="assigned,partially_available" string="转移"
                                groups="stock.group_stock_user" type="object" class="oe_highlight"/>
                        <button name="print_by_usage" string="打印退料单" context="{'usage':'slip'}" states="assigned,done"
                                type="object"
                                groups="mtlcs_base.group_material_control_user"/>
                    </div>
                    <!--生产到不合格仓-->
                    <!--multi company-->
                    <!--<div attrs="{'invisible': [('picking_type_id','!=',%(mtlcs_stock.picking_type_production_ng)d)]}"-->
                         <!--note="生产到不合格仓">-->
                    <div attrs="{'invisible': [('picking_type_id','!=',%(mtlcs_stock.picking_type_production_ng)d,)]}"
                         note="生产到不合格仓">
                        <button name="action_confirm" states="draft" string="品质员确认" type="object" class="oe_highlight"
                                groups="quality_control.group_quality_control_user"/>
                        <button name="quality_manager_approve"
                                attrs="{'invisible':[('mtl_state','!=','w_quality_manager')]}" string="品质经理审核"
                                type="object" class="oe_highlight"
                                groups="quality_control.group_quality_control_manager"/>
                        <button name="purchase_approve" attrs="{'invisible':[('mtl_state','!=','w_purchase')]}"
                                string="采购审核" type="object" class="oe_highlight"
                                groups="purchase.group_purchase_user"/>
                        <button name="material_control_approve"
                                attrs="{'invisible':[('mtl_state','!=','w_material_control')]}" string="物控审核"
                                type="object" class="oe_highlight"
                                groups="mtlcs_base.group_material_control_user"/>
                        <button name="do_enter_transfer_all_once" attrs="{'invisible':[('mtl_state','!=','grant')]}"
                                string="转移"
                                groups="stock.group_stock_user" type="object" class="oe_highlight"/>
                        <button name="print_by_usage" string="打印" context="{'usage':'slip'}" states="assigned,done"
                                type="object"
                                groups="mtlcs_base.group_material_control_user"/>
                    </div>
                    <!--供应商到物料仓-->
                    <!--multi company-->
                    <div attrs="{'invisible': [('picking_type_id','!=',%(stock.picking_type_in)d)]}" note="供应商到物料仓">
                        <button name="action_confirm" string="准备收货" states="draft" type="object" class="oe_highlight"
                                groups="base.group_user"/>
                        <button name="action_assign" string="检查可用" states="confirmed" type="object" class="oe_highlight"
                                groups="mtlcs_base.group_material_control_user"/>
                        <button name="rereserve_pick" string="再次检查可用" type="object" class="oe_highlight"
                                groups="base.group_user"
                                attrs="{'invisible': ['|', ('state', 'not in', ('waiting', 'partially_available')), ('pack_operation_exist','=',True)]}"/>
                        <button name="check_number" string="点数" context="{'display_save_button':1,'default_zero_qty':1}"
                                states="assigned,partially_available"
                                type="object" class="oe_highlight" groups="stock.group_stock_user"/>
                        <button name="open_enter_transfer_details" states="assigned,partially_available" string="收货"
                                context="{}"
                                groups="stock.group_stock_manager" type="object" class="oe_highlight"/>
                        <button name="create_return_picking" string="创建退货" states="done" type="object"
                                groups="base.group_user"/>
                        <button name="print_by_usage" string="打印收货单" context="{'usage':'receive'}" states="done"
                                type="object"
                                groups="stock.group_stock_user"/>
                    </div>
                    <!--物料仓到供应商-->
                    <!--multi company-->
                    <div attrs="{'invisible': [('picking_type_id','!=',%(mtlcs_stock.picking_type_purchase_input_return)d)]}" note="物料仓到供应商">-->
                        <button name="action_confirm" states="draft" string="财务批准" type="object" class="oe_highlight"
                                groups="account.group_account_invoice"/>
                        <button name="action_assign" states="confirmed" string="检查可用" type="object" class="oe_highlight"
                                groups="base.group_user"/>
                        <button name="do_enter_transfer_all_once" string="出库"
                                attrs="{'invisible':[('state','!=','assigned')]}" type="object"
                                groups="stock.group_stock_manager"/>
                        <button name="create_return_picking" string="供应商重新发货" states="done" type="object"
                                groups="base.group_user"/>
                    </div>
                    <!--物料仓到不合格-->
                    <!--multi company-->
                    <div attrs="{'invisible': [('picking_type_id','!=',%(mtlcs_stock.picking_type_material_ng)d)]}" note="物料仓到不合格">-->

                        <button name="action_confirm" states="draft" string="品质员确认" type="object" class="oe_highlight"
                                groups="quality_control.group_quality_control_user"/>
                        <button name="quality_manager_approve"
                                attrs="{'invisible':[('mtl_state','!=','w_quality_manager')]}" string="品质经理审核"
                                type="object" class="oe_highlight"
                                groups="quality_control.group_quality_control_manager"/>
                        <button name="purchase_approve" attrs="{'invisible':[('mtl_state','!=','w_purchase')]}"
                                string="采购审核" type="object" class="oe_highlight"
                                groups="purchase.group_purchase_user"/>
                        <button name="material_control_approve"
                                attrs="{'invisible':[('mtl_state','!=','w_material_control')]}" string="物控审核"
                                type="object" class="oe_highlight"
                                groups="mtlcs_base.group_material_control_user"/>
                        <button name="action_assign" states="confirmed" string="检查可用" type="object" class="oe_highlight"
                                groups="base.group_user"/>
                        <button name="do_enter_transfer_all_once" string="出库"
                                attrs="{'invisible':[('state','!=','assigned')]}" type="object"
                                groups="stock.group_stock_manager"/>
                    </div>
                    <!--不合格物料到供应商-->
                    <!--multi company-->
                    <div attrs="{'invisible': [('picking_type_id','!=',%(mtlcs_stock.picking_type_ng_supplier)d)]}" note="不合格物料到供应商">

                        <button name="action_confirm" states="draft" string="采购确认" type="object" class="oe_highlight"
                                groups="purchase.group_purchase_user"/>
                        <button name="account_approve" attrs="{'invisible':[('mtl_state','!=','w_account')]}"
                                string="财务审核" type="object" class="oe_highlight"
                                groups="account.group_account_invoice"/>
                        <button name="action_assign" states="confirmed" string="检查可用" type="object" class="oe_highlight"
                                groups="base.group_user"/>
                        <button name="do_enter_transfer_all_once" string="出库"
                                attrs="{'invisible':[('state','!=','assigned')]}" type="object"
                                groups="stock.group_stock_manager"/>
                        <button name="create_return_picking" string="供应商重新发货" states="done" type="object"
                                groups="base.group_user"/>
                    </div>

                    <!--================================================================================================================-->
                    <!--==========生产到成品==========-->
                    <!--multi company-->
                    <div attrs="{'invisible': [('picking_type_id','!=',%(mtlcs_stock.picking_type_production_finish)d)]}" note="生产到成品">

                        <button name="action_confirm" states="draft" string="包装确认" type="object" class="oe_highlight"
                                groups="stock.group_stock_user"/>
                        <button name="do_enter_transfer_all_once" string="转移"
                                attrs="{'invisible':[('state','!=','assigned')]}" type="object"
                                groups="stock.group_stock_manager"/>
                        <button name="print_by_usage" string="打印" context="{'usage':'slip'}" states="assigned,done"
                                type="object"
                                groups="stock.group_stock_user"/>
                    </div>
                    <!--==========成品到生产==========-->
                    <!--multi company-->
                    <div attrs="{'invisible': [('picking_type_id','!=',%(mtlcs_stock.picking_type_finish_production)d)]}" note="成品到生产">
                        <button name="action_confirm" states="draft" string="品质确认" type="object" class="oe_highlight"
                                groups="quality_control.group_quality_control_user"/>
                        <button name="quality_manager_approve"
                                attrs="{'invisible':[('mtl_state','!=','w_quality_manager')]}" string="品质审核"
                                type="object" class="oe_highlight"
                                groups="quality_control.group_quality_control_manager"/>
                        <button name="action_assign" states="confirmed" string="检查可用" type="object" class="oe_highlight"
                                groups="base.group_user"/>
                        <button name="do_enter_transfer_all_once" string="转移"
                                attrs="{'invisible':[('state','!=','assigned')]}" type="object"
                                groups="stock.group_stock_user"/>
                        <button name="print_by_usage" string="打印" context="{'usage':'slip'}" states="assigned,done"
                                type="object"
                                groups="stock.group_stock_user"/>
                    </div>
                    <!--==========生产到待处理==========-->
                    <!--multi company-->
                    <div attrs="{'invisible': [('picking_type_id','!=',%(mtlcs_stock.picking_type_production_pending)d)]}" note="生产到待处理">

                        <button name="action_confirm" states="draft" string="包装确认" type="object" class="oe_highlight"
                                groups="stock.group_stock_user"/>
                        <button name="do_enter_transfer_all_once" string="转移"
                                attrs="{'invisible':[('state','!=','assigned')]}" type="object"
                                groups="stock.group_stock_user"/>
                        <button name="print_by_usage" string="打印" context="{'usage':'slip'}" states="assigned,done"
                                type="object"
                                groups="stock.group_stock_user"/>
                    </div>
                    <!--==========待处理到生产==========-->
                    <!--multi company-->
                    <div attrs="{'invisible': [('picking_type_id','!=',%(mtlcs_stock.picking_type_pending_production)d)]}" note="待处理到生产">
                        <button name="action_confirm" states="draft" string="品质确认" type="object" class="oe_highlight"
                                groups="quality_control.group_quality_control_user"/>
                        <button name="quality_manager_approve"
                                attrs="{'invisible':[('mtl_state','!=','w_quality_manager')]}" string="品质审核"
                                type="object" class="oe_highlight"
                                groups="quality_control.group_quality_control_manager"/>
                        <button name="action_assign" states="confirmed" string="检查可用" type="object" class="oe_highlight"
                                groups="base.group_user"/>
                        <button name="do_enter_transfer_all_once" string="转移"
                                attrs="{'invisible':[('state','!=','assigned')]}" type="object"
                                groups="stock.group_stock_user"/>
                        <button name="print_by_usage" string="打印" context="{'usage':'slip'}" states="assigned,done"
                                type="object"
                                groups="stock.group_stock_user"/>
                    </div>
                    <!--==========成品到客户==========-->
                    <!--multi company-->
                    <div attrs="{'invisible': [('picking_type_id','!=',%(mtlcs_stock.picking_type_finish_customers)d)]}"
                         note="成品到客户">

                        <button name="action_confirm" states="draft" string="准备发货" type="object" class="oe_highlight"
                                groups="base.group_user"/>
                        <button name="action_assign" states="confirmed" string="检查可用" type="object" class="oe_highlight"
                                groups="base.group_user"/>
                        <button name="do_enter_transfer_all_once" attrs="{'invisible':[('state','!=','assigned')]}"
                                string="出货"
                                groups="stock.group_stock_user" type="object" class="oe_highlight"/>
                        <button name="print_by_usage" string="打印" context="{'usage':'slip'}" states="assigned,done"
                                type="object"
                                groups="stock.group_stock_user"/>
                    </div>
                    <!--==========客户到待处理==========-->
                    <!--multi company-->
                    <div attrs="{'invisible': [('picking_type_id','!=',%(mtlcs_stock.picking_type_customers_pending)d)]}"
                         note="客户到待处理">

                        <button name="action_confirm" states="draft" string="客服确认" type="object" class="oe_highlight"
                                groups="base.group_user"/>
                        <button name="action_assign" states="confirmed" string="检查可用" type="object" class="oe_highlight"
                                groups="base.group_user"/>
                        <button name="do_enter_transfer_all_once" attrs="{'invisible':[('state','!=','assigned')]}"
                                string="退货"
                                groups="stock.group_stock_user" type="object" class="oe_highlight"/>
                        <button name="print_by_usage" string="打印" context="{'usage':'slip'}" states="assigned,done"
                                type="object"
                                groups="stock.group_stock_user"/>
                    </div>
                    <!--==========待处理到客户==========-->
                    <!--multi company-->
                    <div attrs="{'invisible': [('picking_type_id','!=',%(mtlcs_stock.picking_type_pending_customers)d)]}"
                         note="待处理到客户">
                        <button name="action_confirm" states="draft" string="准备发货" type="object" class="oe_highlight"
                                groups="base.group_user"/>
                        <button name="action_assign" states="confirmed" string="检查可用" type="object" class="oe_highlight"
                                groups="base.group_user"/>
                        <button name="do_enter_transfer_all_once" attrs="{'invisible':[('state','!=','assigned')]}"
                                string="出货"
                                groups="stock.group_stock_user" type="object" class="oe_highlight"/>
                        <button name="print_by_usage" string="打印" context="{'usage':'slip'}" states="assigned,done"
                                type="object"
                                groups="stock.group_stock_user"/>
                    </div>
                    <!--==========成品到报废==========-->
                    <!--multi company-->
                    <div attrs="{'invisible': [('picking_type_id','!=',%(mtlcs_stock.picking_type_finish_ng)d)]}"
                         note="成品到报废">

                        <button name="action_confirm" states="draft" string="成品报废申请" type="object" class="oe_highlight"
                                groups="stock.group_stock_user"/>
                        <button name="material_control_approve"
                                attrs="{'invisible':[('mtl_state','!=','w_material_control')]}" string="物控经理审核"
                                type="object" class="oe_highlight"
                                groups="mtlcs_base.group_material_control_manager"/>
                        <button name="quality_manager_approve"
                                attrs="{'invisible':[('mtl_state','!=','w_quality_manager')]}" string="品质经理审核"
                                type="object" class="oe_highlight"
                                groups="quality_control.group_quality_control_manager"/>
                        <button name="account_approve" attrs="{'invisible':[('mtl_state','!=','w_account')]}"
                                string="财务审核" type="object" class="oe_highlight"
                                groups="account.group_account_invoice"/>
                        <button name="general_manager_approve"
                                attrs="{'invisible':[('mtl_state','!=','w_general_manager')]}" string="总经办审核"
                                type="object" class="oe_highlight"
                                groups="mtlcs_base.group_production_chief_inspector"/>
                        <button name="action_assign" states="confirmed" string="检查可用" type="object" class="oe_highlight"
                                groups="base.group_user"/>
                        <button name="do_enter_transfer_all_once" attrs="{'invisible':[('mtl_state','!=','grant')]}"
                                string="完成转移"
                                groups="stock.group_stock_user" type="object" class="oe_highlight"/>
                        <button name="print_by_usage" string="打印" context="{'usage':'slip'}" states="assigned,done"
                                type="object"
                                groups="stock.group_stock_user"/>
                    </div>
                    <!--==========待处理到报废==========-->
                    <!--multi company-->
                    <div attrs="{'invisible': [('picking_type_id','!=',%(mtlcs_stock.picking_type_pending_ng)d)]}"
                         note="待处理到报废">
                        <button name="action_confirm" states="draft" string="待处理报废申请" type="object" class="oe_highlight"
                                groups="stock.group_stock_user"/>
                        <button name="material_control_approve"
                                attrs="{'invisible':[('mtl_state','!=','w_material_control')]}" string="物控经理审核"
                                type="object" class="oe_highlight"
                                groups="mtlcs_base.group_material_control_manager"/>
                        <button name="quality_manager_approve"
                                attrs="{'invisible':[('mtl_state','!=','w_quality_manager')]}" string="品质经理审核"
                                type="object" class="oe_highlight"
                                groups="quality_control.group_quality_control_manager"/>
                        <button name="account_approve" attrs="{'invisible':[('mtl_state','!=','w_account')]}"
                                string="财务审核" type="object" class="oe_highlight"
                                groups="account.group_account_invoice"/>
                        <button name="general_manager_approve"
                                attrs="{'invisible':[('mtl_state','!=','w_general_manager')]}" string="总经办审核"
                                type="object" class="oe_highlight"
                                groups="mtlcs_base.group_production_chief_inspector"/>
                        <button name="action_assign" states="confirmed" string="检查可用" type="object" class="oe_highlight"
                                groups="base.group_user"/>
                        <button name="do_enter_transfer_all_once" attrs="{'invisible':[('mtl_state','!=','grant')]}"
                                string="完成转移"
                                groups="stock.group_stock_user" type="object" class="oe_highlight"/>
                        <button name="print_by_usage" string="打印" context="{'usage':'slip'}" states="assigned,done"
                                type="object"
                                groups="stock.group_stock_user"/>
                    </div>
                    <!--=================================================================================================================-->

                </field>


                <!--==========1108-->
                <field name="name" position="after">
                    <div class="oe_right">
                        <button type="object" name="show_approve_logs" class="oe_inline oe_stat_button" string="审批日志"
                                icon="fa-pencil-square-o"/>
                    </div>
                </field>


                <field name="state" position="before">
                    <button name="account_touch" string="财务签收" class="oe_highlight"
                            attrs="{'invisible':['|',('state','!=','done'),('account_touched','=',True)]}"
                            type="object" groups="account.group_account_user"/>
                    <button name="%(stock_account.action_stock_invoice_onshipping)d" string="创建电子对账凭证"
                            attrs="{'invisible': ['|',('state','&lt;&gt;','done'),('invoice_state','&lt;&gt;','2binvoiced')]}"
                            type="action"
                            class="oe_highlight" groups="base.group_user"/>
                </field>

                <field name="partner_id" position="after">
                    <field name="account_touched"/>
                    <field name="mtl_type" on_change="onchange_mtl_type(mtl_type)"/>
                    <!--==========1205-->
                    <!--<field name="department_id"/>-->
                    <field name="department_id" default_focus="1"/>
                    <field name="mtl_state" readonly="1"/>
                </field>

                <xpath expr="//field[@name='move_lines']/tree" position="inside">
                    <button string="有边料" name="have_offcut"
                            attrs="{'invisible': ['|',('state','=','done'),('mtl_type','!=','slip_board')]}"
                            type='object'
                            groups="stock.group_stock_user"/>
                    <button string="无边料" name="no_offcut"
                            attrs="{'invisible': ['|',('state','=','done'),('mtl_type','!=','slip_board')]}"
                            type='object'
                            groups="stock.group_stock_user"/>
                    <button string="原数量" name="regain_plan_qty"
                            attrs="{'invisible': ['|',('state','=','done'),('mtl_type','!=','slip_board')]}"
                            type='object'
                            groups="stock.group_stock_user"/>
                    <field name="mtl_type" invisible="1"/>
                    <field name="plan_qty" invisible="1"/>
                </xpath>

                <xpath expr="//field[@name='move_lines']/tree/field[@name='product_uom']" position="after">
                    <field name="price_unit" invisible="not context.get('show_price')"/>
                    <field name="sub_total" invisible="not context.get('show_price')"/>

                    <!--==========1212-->
                    <field name="qty_available" invisible="not context.get('material2production')"/>
                    <field name="incoming_qty" invisible="not context.get('material2production')"/>
                    <field name="no_move_qty" invisible="not context.get('material2production')"/>

                </xpath>

                <field name="move_lines" position="before">
                    <button name="batch_select_product" states="draft" string="选择多个物料" groups="base.group_user"
                            type="object" invisible="context.get('no_create')"/>
                    <button name="product_quick_view" string="物料信息查看" groups="mtlcs_base.group_material_control_user"
                            type="object" invisible="0"/>
                </field>
            </field>
        </record>


        <!-- 物料->不合格仓库 -->
        <record id="action_picking_material_ng" model="ir.actions.act_window">
            <field name="name">物料到不合格仓</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <!--multi company-->
            <field name="domain" eval="[('picking_type_id','=',ref('mtlcs_stock.picking_type_material_ng'))]"/>
            <field name="filter" eval="True"/>
            <!--multi company-->
            <field name="context" eval="{'no_create':0,'no_edit':0, 'default_picking_type_id': ref('mtlcs_stock.picking_type_material_ng')}"/>

        </record>
        <record id="action_picking_material_ng_tree" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
            <field name="sequence">1</field>
            <field name="view_id" ref="stock.vpicktree"/>
            <field name="act_window_id" ref="action_picking_material_ng"/>
        </record>

        <record id="action_picking_material_ng_form" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence">2</field>
            <field name="view_id" ref="stock_quick_entry.picking_quick_form"/>
            <field name="act_window_id" ref="action_picking_material_ng"/>
        </record>

        <menuitem name="物料到不合格仓" id="menu_picking_material_ng" action="action_picking_material_ng"
                  parent="mtlcs_base.menu_stock_purcase_management" sequence="4"/>
        <menuitem name="物料到不合格仓" id="menu_picking_material_ng_for_quality" action="action_picking_material_ng"
                  parent="quality_control.qc_inspection_menu_parent" sequence="5"/>
        <menuitem name="物料到不合格仓" id="menu_picking_material_ng_for_purchase" action="action_picking_material_ng"
                  parent="purchase.menu_procurement_management_invoice" sequence="28"/>

        <!-- 生产->不合格仓库  -->
        <record id="action_picking_production_ng" model="ir.actions.act_window">
            <field name="name">生产到不合格仓</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <!--multi company-->
            <field name="domain" eval="[('picking_type_id','=',ref('mtlcs_stock.picking_type_production_ng'))]"/>
            <field name="filter" eval="True"/>
            <field name="context"
                   eval="{'no_create':0,'no_edit':0, 'default_picking_type_id': ref('mtlcs_stock.picking_type_production_ng')}"/>
            <!--multi company-->
            <field name="context" eval="{'no_create':0,'no_edit':0, 'default_picking_type_id': ref('mtlcs_stock.picking_type_production_ng')}"/>

        </record>
        <record id="action_picking_production_ng_tree" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
            <field name="sequence">1</field>
            <field name="view_id" ref="stock.vpicktree"/>
            <field name="act_window_id" ref="action_picking_production_ng"/>
        </record>
        <record id="action_picking_production_ng_form" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence">2</field>
            <field name="view_id" ref="stock_quick_entry.picking_quick_form"/>
            <field name="act_window_id" ref="action_picking_production_ng"/>
        </record>
        <menuitem name="生产到不合格仓" id="menu_picking_production_ng" action="action_picking_production_ng"
                  parent="mtlcs_base.menu_stock_purcase_management" sequence="5"/>
        <menuitem name="生产到不合格仓" id="menu_picking_production_ng_for_quality" action="action_picking_production_ng"
                  parent="quality_control.qc_inspection_menu_parent" sequence="6"/>
        <menuitem name="生产到不合格仓" id="menu_picking_production_ng_for_purchase" action="action_picking_production_ng"
                  parent="purchase.menu_procurement_management_invoice" sequence="29"/>

        <!-- 不合格 >> 供应商  -->
        <record id="action_picking_ng_supplier" model="ir.actions.act_window">
            <field name="name">不合格到供应商</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <!--multi company-->
            <field name="domain" eval="[('picking_type_id','=',ref('mtlcs_stock.picking_type_ng_supplier'))]"/>
            <field name="filter" eval="True"/>
            <!--multi company-->
            <field name="context" eval="{'no_create':0,'no_edit':0, 'default_picking_type_id': ref('mtlcs_stock.picking_type_ng_supplier')}"/>

        </record>
        <record id="action_picking_ng_supplier_tree" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
            <field name="sequence">1</field>
            <field name="view_id" ref="stock.vpicktree"/>
            <field name="act_window_id" ref="action_picking_ng_supplier"/>
        </record>
        <record id="action_picking_ng_supplier_form" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence">2</field>
            <field name="view_id" ref="stock_quick_entry.picking_quick_form"/>
            <field name="act_window_id" ref="action_picking_ng_supplier"/>
        </record>
        <menuitem name="不合格到供应商" id="menu_picking_ng_supplier" action="action_picking_ng_supplier"
                  parent="mtlcs_base.menu_stock_purcase_management" sequence="6"/>
        <menuitem name="不合格到供应商" id="menu_picking_ng_supplier_for_purchase" action="action_picking_ng_supplier"
                  parent="purchase.menu_procurement_management_invoice" sequence="39"/>
        <menuitem name="不合格到供应商" id="menu_picking_ng_supplier_for_quality" action="action_picking_ng_supplier"
                  parent="quality_control.qc_inspection_menu_parent" sequence="6"/>

        <!-- 领料 no create-->
        <record id="action_picking_production_slip_nocreate" model="ir.actions.act_window">
            <field name="name">物料到产线</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <!--multi company-->
            <field name="domain" eval="[('picking_type_id','=',ref('mtlcs_stock.picking_type_material_production'))]"/>
            <field name="filter" eval="True"/>
            <!--==========1212-->
            <field name="context" eval="{'material2production':1, 'default_move_type':'one', 'no_create':0,'no_edit':0, 'default_picking_type_id': ref('mtlcs_stock.picking_type_material_production'),'need_department':1,'search_default_uncompleted':1}"/>

        </record>
        <record id="action_picking_slip_nocreate_tree" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
            <field name="sequence">1</field>
            <field name="view_id" ref="stock.vpicktree"/>
            <field name="act_window_id" ref="action_picking_production_slip_nocreate"/>
        </record>
        <record id="action_picking_slip_nocreate_form" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence">2</field>
            <field name="view_id" ref="stock_quick_entry.picking_quick_form"/>
            <field name="act_window_id" ref="action_picking_production_slip_nocreate"/>
        </record>

        <!-- 领料  allow create-->
        <record id="action_picking_production_application_slip" model="ir.actions.act_window">
            <field name="name">物料到产线</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <!--multi company-->
            <field name="domain"  eval="[('picking_type_id','=',ref('mtlcs_stock.picking_type_material_production'))]"/>

            <field name="filter" eval="True"/>
            <!--==========1212-->
            <!--multi company-->
            <field name="context" eval="{'material2production':1, 'default_move_type':'one','default_picking_type_id': ref('mtlcs_stock.picking_type_material_production'),'need_department':1,'search_default_uncompleted':1}"/>
        </record>
        <record id="action_picking_quick_tree" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
            <field name="sequence">1</field>
            <field name="view_id" ref="stock.vpicktree"/>
            <field name="act_window_id" ref="action_picking_production_application_slip"/>
        </record>
        <record id="action_picking_quick_form" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence">2</field>
            <field name="view_id" ref="stock_quick_entry.picking_quick_form"/>
            <field name="act_window_id" ref="action_picking_production_application_slip"/>
        </record>
        <menuitem name="物料到产线仓" id="menu_material_acquire" action="action_picking_production_slip_nocreate"
                  parent="mtlcs_base.menu_stock_material_production_management" sequence="6"/>
        <menuitem name="物料到产线仓" id="menu_material_acquire_for_plan" action="action_picking_production_application_slip"
                  groups="mtlcs_base.group_plan_user"
                  parent="mtlcs_base.menu_plan_material_acquire" sequence="1"/>
        <menuitem name="物料到产线仓" id="menu_material_acquire_for_mc" action="action_picking_production_application_slip"
                  groups="mtlcs_base.group_material_control_user"
                  parent="mtlcs_base.sub_menu_preparation_management" sequence="9"/>
        <menuitem name="物料到产线仓" id="menu_material_acquire_for_mrp" action="action_picking_production_application_slip"
                  groups="mrp.group_mrp_user"
                  parent="mtlcs_base.sub_menu_mrp_material_material_acquire" sequence="9"/>

        <!-- 退领料 -->
        <record id="action_picking_production_application_slip_return" model="ir.actions.act_window">
            <field name="name">产线到物料仓</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <!--multi company-->
            <field name="domain"
                   eval="[('picking_type_id','=',ref('mtlcs_stock.picking_type_material_production_return'))]"/>
            <!--<field name="domain"-->
                   <!--eval="[('picking_type_id','in',[ref('mtlcs_stock.picking_type_material_production_return'),ref('mtlcs_stock.picking_type_material_production_return_sz'),])]"/>-->
            <field name="filter" eval="True"/>
            <!--multi company-->
            <field name="context" eval="{'default_move_type':'one','no_create':1,'default_picking_type_id': ref('mtlcs_stock.picking_type_material_production_return'),'need_department':1,'search_default_uncompleted':1, }"/>
        </record>
        <record id="action_picking_production_application_slip_return_tree" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
            <field name="sequence">1</field>
            <field name="view_id" ref="stock.vpicktree"/>
            <field name="act_window_id" ref="action_picking_production_application_slip_return"/>
        </record>
        <record id="action_picking_production_application_slip_return_form" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence">2</field>
            <field name="view_id" ref="stock_quick_entry.picking_quick_form"/>
            <field name="act_window_id" ref="action_picking_production_application_slip_return"/>
        </record>
        <menuitem name="产线到物料仓" id="menu_application_slip_return"
                  action="action_picking_production_application_slip_return"
                  parent="mtlcs_base.menu_stock_material_production_management" sequence="7"/>
        <menuitem name="产线到物料仓" id="menu_application_slip_return_for_mrp"
                  action="action_picking_production_application_slip_return"
                  parent="mtlcs_base.sub_menu_mrp_material_material_acquire" sequence="10"/>


        <!-- 采购收货,一步入库 -->
        <record id="action_picking_purchase_receive" model="ir.actions.act_window">
            <field name="name">供应商到物料仓</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <!--multi company-->
            <field name="domain" eval="[('picking_type_id','=',ref('stock.picking_type_in'))]"/>
            <field name="filter" eval="True"/>
            <!--multi company-->
            <field name="context" eval="{'show_price':1, 'show_inspection':1, 'default_picking_type_id': ref('stock.picking_type_in'),'no_create':1,'no_edit':1,'search_default_uncompleted':1}"/>

        </record>
        <record id="action_picking_purchase_receive_tree" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
            <field name="sequence">1</field>
            <field name="view_id" ref="stock.vpicktree"/>
            <field name="act_window_id" ref="action_picking_purchase_receive"/>
        </record>
        <record id="action_picking_purchase_receive_form" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence">2</field>
            <field name="view_id" ref="stock_quick_entry.picking_quick_form"/>
            <field name="act_window_id" ref="action_picking_purchase_receive"/>
        </record>
        <menuitem name="供应商到物料仓" id="menu_picking_purchase_receive" action="action_picking_purchase_receive"
                  parent="mtlcs_base.menu_stock_purcase_management" sequence="1"/>

        <!-- 退货 -->
        <record id="action_picking_income_return" model="ir.actions.act_window">
            <field name="name">采购退货</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <!--multi company-->
            <field name="domain" eval="[('picking_type_id','=',ref('mtlcs_stock.picking_type_purchase_input_return') )]"/>
            <field name="filter" eval="True"/>
            <field name="context"
                   eval="{'show_price':1,'no_create':1,'no_edit':1}"/>
        </record>
        <record id="action_picking_income_return_tree" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
            <field name="sequence">1</field>
            <field name="view_id" ref="stock.vpicktree"/>
            <field name="act_window_id" ref="action_picking_income_return"/>
        </record>
        <record id="action_picking_income_return_form" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence">2</field>
            <field name="view_id" ref="stock_quick_entry.picking_quick_form"/>
            <field name="act_window_id" ref="action_picking_income_return"/>
        </record>
        <!--
        <menuitem name="退货单" id="menu_picking_receive_return" action="action_picking_income_return"
                  parent="mtlcs_base.menu_stock_purcase_management" sequence="3"/>
        <menuitem name="退货单" id="menu_picking_receive_return_for_account" action="action_picking_income_return"
                  parent="mtlcs_base.sub_menu_finance_purchase" sequence="4"/>
        <menuitem name="退货单" id="menu_picking_receive_return_for_purchase" action="action_picking_income_return"
                  parent="purchase.menu_procurement_management_invoice" sequence="30"/>
         -->


        <!-- finish picking operation
        <record id="action_picking_finish_pick" model="ir.actions.act_window">
            <field name="name">拣货</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain"
                   eval="[('picking_type_id','=',ref('mtlcs_stock.picking_type_finish_pick'))]"/>
            <field name="context"
                   eval="{'no_create':1,'no_edit':1,'search_default_uncompleted':1}"/>
        </record>
        <record id="action_picking_finish_pick_tree" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
            <field name="sequence">1</field>
            <field name="view_id" ref="stock.vpicktree"/>
            <field name="act_window_id" ref="action_picking_finish_pick"/>
        </record>
        <record id="action_picking_finish_pick_form" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence">2</field>
            <field name="view_id" ref="stock_quick_entry.picking_quick_form"/>
            <field name="act_window_id" ref="action_picking_finish_pick"/>
        </record>
        <menuitem name="拣货" id="menu_picking_finish_pic" action="action_picking_finish_pick"
                  parent="mtlcs_base.menu_finish_stock_sub" sequence="1"/>
                  -->

        <!-- finish picking operation
        <record id="action_picking_finish_ship" model="ir.actions.act_window">
            <field name="name">发货</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain"
                   eval="[('picking_type_id','=',ref('stock.picking_type_out'))]"/>
            <field name="context"
                   eval="{'no_create':1,'no_edit':1,'search_default_uncompleted':1}"/>
        </record>
        <record id="action_picking_finish_ship_tree" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
            <field name="sequence">1</field>
            <field name="view_id" ref="stock.vpicktree"/>
            <field name="act_window_id" ref="action_picking_finish_ship"/>
        </record>
        <record id="action_picking_finish_ship_form" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence">2</field>
            <field name="view_id" ref="stock_quick_entry.picking_quick_form"/>
            <field name="act_window_id" ref="action_picking_finish_ship"/>
        </record>
        <menuitem name="发货" id="menu_picking_finish_ship" action="action_picking_finish_ship"
                  parent="mtlcs_base.menu_finish_stock_sub" sequence="2"/>



        <record id="action_picking_finish_out_return" model="ir.actions.act_window">
            <field name="name">客户退货</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain"
                   eval="[('picking_type_id','=',ref('mtlcs_stock.picking_type_finish_out_return'))]"/>
            <field name="context"
                   eval="{'no_create':1,'no_edit':1,'search_default_uncompleted':1}"/>
        </record>
        <record id="action_picking_finish_out_return_tree" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
            <field name="sequence">1</field>
            <field name="view_id" ref="stock.vpicktree"/>
            <field name="act_window_id" ref="action_picking_finish_out_return"/>
        </record>
        <record id="action_picking_finish_out_return_from" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence">2</field>
            <field name="view_id" ref="stock_quick_entry.picking_quick_form"/>
            <field name="act_window_id" ref="action_picking_finish_out_return"/>
        </record>
        <menuitem name="客户退货" id="menu_picking_finish_out_return" action="action_picking_finish_out_return"
                  parent="mtlcs_base.menu_finish_stock_sub" sequence="3"/>

        <record id="action_picking_finish_pick_return" model="ir.actions.act_window">
            <field name="name">返拣货</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain"
                   eval="[('picking_type_id','=',ref('mtlcs_stock.picking_type_finish_pick_return'))]"/>
            <field name="context"
                   eval="{'no_create':1,'no_edit':1,'search_default_uncompleted':1}"/>
        </record>
        <record id="action_picking_finish_pick_return_tree" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
            <field name="sequence">1</field>
            <field name="view_id" ref="stock.vpicktree"/>
            <field name="act_window_id" ref="action_picking_finish_pick_return"/>
        </record>
        <record id="action_picking_finish_pick_return_form" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence">2</field>
            <field name="view_id" ref="stock_quick_entry.picking_quick_form"/>
            <field name="act_window_id" ref="action_picking_finish_pick_return"/>
        </record>
        <menuitem name="返拣货" id="menu_picking_finish_pick_return" action="action_picking_finish_pick_return"
                  parent="mtlcs_base.menu_finish_stock_sub" sequence="4"/>
                  -->

        <!-- 收货退货
        <record id="action_picking_receive_return" model="ir.actions.act_window">
            <field name="name">收货退货</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain"
                   eval="[('picking_type_id','=',ref('mtlcs_stock.picking_type_receive_return'))]"/>
            <field name="filter" eval="True"/>
            <field name="context"
                   eval="{'no_create':1,'no_edit':1,'default_picking_type_id': ref('mtlcs_stock.picking_type_receive_return'),'search_default_uncompleted':1}"/>
        </record>
        <record id="action_picking_receive_return_tree" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
            <field name="sequence">1</field>
            <field name="view_id" ref="stock.vpicktree"/>
            <field name="act_window_id" ref="action_picking_receive_return"/>
        </record>
        <record id="action_picking_receive_return_form" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence">2</field>
            <field name="view_id" ref="stock_quick_entry.picking_quick_form"/>
            <field name="act_window_id" ref="action_picking_receive_return"/>
        </record>
        <menuitem name="收货退货" id="menu_picking_receive_return" action="action_picking_receive_return"
                  parent="mtlcs_base.menu_stock_purcase_management" sequence="3"/>
        -->

        <!--入库退货
        <record id="action_picking_input_return" model="ir.actions.act_window">
            <field name="name">入库退货</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain"
                   eval="[('picking_type_id','=',ref('mtlcs_stock.picking_type_purchase_input_return'))]"/>
            <field name="filter" eval="True"/>
            <field name="context"
                   eval="{'no_create':1,'no_edit':1,'default_picking_type_id': ref('mtlcs_stock.picking_type_purchase_input_return'),'search_default_uncompleted':1}"/>
        </record>
        <record id="action_picking_input_return_tree" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
            <field name="sequence">1</field>
            <field name="view_id" ref="stock.vpicktree"/>
            <field name="act_window_id" ref="action_picking_input_return"/>
        </record>
        <record id="action_picking_input_return_form" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence">2</field>
            <field name="view_id" ref="stock_quick_entry.picking_quick_form"/>
            <field name="act_window_id" ref="action_picking_input_return"/>
        </record>
        <menuitem name="入库退货" id="menu_picking_input_return" action="action_picking_input_return"
                  parent="mtlcs_base.menu_stock_purcase_management" sequence="4"/>
        -->

        <!-- 库存查询-->
        <menuitem name="库位" id="menu_picking_delivery" action="stock.action_location_form"
                  parent="mtlcs_base.menu_stock_stock" groups="base.group_user" sequence="1"/>

        <record id="product_action_material" model="ir.actions.act_window">
            <field name="name">原材料</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">product.product</field>
            <field name="view_mode">tree,form,kanban</field>
            <field name="view_type">form</field>
            <field name="search_view_id" ref="product.product_search_form_view"/>
            <field name="view_id" eval="False"/>
            <!-- Force empty -->
            <field name="domain">[('purchase_ok','=',True)]</field>
        </record>

        <menuitem name="原材料" id="menu_product_material" action="product_action_material"
                  parent="mtlcs_base.menu_stock_stock" groups="base.group_user" sequence="2"/>

        <record id="product_action_finish" model="ir.actions.act_window">
            <field name="name">成品</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">product.product</field>
            <field name="view_mode">tree,form,kanban</field>
            <field name="view_type">form</field>
            <field name="search_view_id" ref="product.product_search_form_view"/>
            <field name="view_id" eval="False"/>
            <!-- Force empty -->
            <field name="domain">[('sale_ok','=',True)]</field>
        </record>

        <menuitem name="成品" id="menu_product_finish" action="product_action_finish"
                  parent="mtlcs_base.menu_stock_stock" groups="base.group_user" sequence="2"/>


        <!-- Stock Move Search View -->
        <record id="inherit_iew_move_search" model="ir.ui.view">
            <field name="name">inherit.stock.move.search</field>
            <field name="model">stock.move</field>
            <field name='inherit_id' ref='stock.view_move_search'/>
            <field name="arch" type="xml">
                <field name="name" position="after">
                    <field name="date" string="开始时间" filter_domain="[('date','&gt;',self)]"/>
                    <field name="date" string="结束时间" filter_domain="[('date','&lt;',self)]"/>
                </field>

                <filter name="ready" position="after">
                    <filter string="领料" name="slip"
                            domain="[('state','=','done'),('picking_type_id','=',%(mtlcs_stock.picking_type_material_production)d )]"/>
                    <!--==========1214-->
                    <filter string="今日领料" name="slip1"
                            domain="[('state','=','done'),('picking_type_id','=',%(mtlcs_stock.picking_type_material_production)d ),('date', '&lt;=', datetime.datetime.combine(context_today(), datetime.time(23,59,59))),('date','&gt;=', datetime.datetime.combine(context_today(), datetime.time(0,0,0)))]"/>
                    <filter string="本周领料" name="slip2"
                            domain="[('state','=','done'),('picking_type_id','=',%(mtlcs_stock.picking_type_material_production)d ),('date', '&gt;=', ((context_today()+relativedelta(weeks=-1, weekday=0)).strftime('%%Y-%%m-%%d'))), ]"/>
                    <filter string="本月领料" name="slip3"
                            domain="[('state','=','done'),('picking_type_id','=',%(mtlcs_stock.picking_type_material_production)d ),('date', 'like', time.strftime('%%Y-%%m'))]"/>
                    <filter string="上月领料" name="slip4"
                            domain="[('state','=','done'),('picking_type_id','=',%(mtlcs_stock.picking_type_material_production)d ),('date', '&lt;', time.strftime('%%Y-%%m-01')),('date','&gt;=', (context_today() - relativedelta(months=1)).strftime('%%Y-%%m-01'))]"/>
                    <separator/>

                    <filter string="退料" name="slip_return"
                            domain="[('state','=','done'),('picking_type_id','=',%(mtlcs_stock.picking_type_material_production_return)d )]"/>
                    <filter string="收货" name="purchase"
                            domain="[('state','=','done'),('picking_type_id','=',%(stock.picking_type_in)d )]"/>
                    <filter string="退货" name="purchase_return"
                            domain="[('state','=','done'),('picking_type_id','=',%(mtlcs_stock.picking_type_purchase_input_return)d )]"/>
                </filter>
                <group string="Group By" position="inside">
                    <filter string="部门" name="groupby_department" icon="terp-gtk-jump-to-rtl" domain="[]"
                            context="{'group_by':'department_id'}"/>
                </group>
            </field>
        </record>

        <!-- Stock Move Tree View -->
        <record id="inherit_view_move_tree" model="ir.ui.view">
            <field name="name">inherit.stock.move.tree</field>
            <field name="model">stock.move</field>
            <field name='inherit_id' ref='stock.view_move_tree'/>
            <field name="arch" type="xml">
                <field name="location_dest_id" position="after">
                    <field name="department_id" position="department_id"/>
                </field>
                <field name="name" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>
            </field>
        </record>

        <!-- 领料/退料记录
        <record id="action_move_slip" model="ir.actions.act_window">
            <field name="name">领退料记录</field>
            <field name="res_model">stock.move</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_mode">tree</field>
            <field name="view_type">form</field>
            <field name="view_id" ref="stock.view_move_tree"/>
            <field name="search_view_id" ref="stock.view_move_search"/>
            <field name="domain"
                   eval="[('state','=','done'),('picking_type_id','in', [ref('mtlcs_stock.picking_type_material_production'),ref('mtlcs_stock.picking_type_material_production_return')])]"/>
            <field name="context">{'no_create':1}</field>
        </record>
        <menuitem name="领料/退料记录" id="menu_stock_move_slip" action="action_move_slip"
                  parent="mtlcs_base.menu_stock_material_production_management" sequence="7"/>
        -->

        <!-- 收货/退货记录
        <record id="action_move_purchase" model="ir.actions.act_window">
            <field name="name">收货/退货记录</field>
            <field name="res_model">stock.move</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_mode">tree</field>
            <field name="view_type">form</field>
            <field name="view_id" ref="stock.view_move_tree"/>
            <field name="search_view_id" ref="stock.view_move_search"/>
            <field name="domain"
                   eval="[('state','=','done'),('picking_type_id','in', [ref('stock.picking_type_in'),ref('mtlcs_stock.picking_type_purchase_input_return')])]"/>
            <field name="context">{'no_create':1}</field>
        </record>
        <menuitem name="收货/退货记录" id="menu_stock_move_purchase" action="action_move_purchase"
                  parent="mtlcs_base.menu_stock_purcase_management" sequence="7"/>
        -->


        <!--Only account user can create the invoice-->
        <record id="inherit_view_picking_inherit_form2" model="ir.ui.view">
            <field name="name">stock.picking.form.inherit</field>
            <field name="model">stock.picking</field>
            <field name="inherit_id" ref="stock_account.view_picking_inherit_form2"/>
            <field name="arch" type="xml">
                <xpath expr="//button[@string='Create Invoice']" position="replace">
                    <button name="%(stock_account.action_stock_invoice_onshipping)d" string="Create Invoice"
                            attrs="{'invisible': ['|',('state','!=','done'),('invoice_state','!=','2binvoiced')]}"
                            type="action" class="oe_highlight"
                            groups="account.group_account_user,purchase.group_purchase_user"/>
                </xpath>
            </field>
        </record>
        <record id="inherit_view_picking_inherit_tree2" model="ir.ui.view">
            <field name="name">stock.picking.tree.inherit</field>
            <field name="model">stock.picking</field>
            <field name="inherit_id" ref="stock_account.view_picking_inherit_tree2"/>
            <field name="arch" type="xml">
                <field name="invoice_state" position="replace">
                    <field name="invoice_state" groups="account.group_account_invoice,purchase.group_purchase_user"/>
                </field>
            </field>
        </record>
        <act_window id="stock_account.action_stock_invoice_onshipping"
                    name="Create Draft Invoices"
                    res_model="stock.invoice.onshipping"
                    src_model="stock.picking"
                    key2="client_action_multi"
                    multi="True"
                    view_mode="form"
                    view_type="form"
                    target="new"
                    groups="account.group_account_invoice"/>
        <record id="purchase.action_picking_tree_picking_to_invoice" model="ir.actions.act_window">
            <field name="name">On Incoming Shipments</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,calendar</field>
            <field name="context">{"no_edit":1,"no_create":1, "default_type": "in", "contact_display":
                "partner_address", "search_default_done":
                1, "search_default_reception_to_invoice": 1}
            </field>
            <field name="search_view_id" ref="stock.view_picking_internal_search"/>
        </record>

        <menuitem name="收到的供货单" id="picking_income_to_invoice" action="purchase.action_picking_tree_picking_to_invoice"
                  parent="mtlcs_base.sub_menu_finance_purchase" sequence="4"/>

        <!--=====================================================================================================================0905-->
        <!-- 成品仓库 -->
        <!--成品仓/生产到成品-->
        <record id="action_picking_production_finish" model="ir.actions.act_window">
            <field name="name">生产到成品</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <!--multi company-->
            <field name="domain"
                   eval="[('picking_type_id','=',ref('mtlcs_stock.picking_type_production_finish'))]"/>
            <!--<field name="domain"-->
                   <!--eval="[('picking_type_id','in',[ref('mtlcs_stock.picking_type_production_finish'),ref('mtlcs_stock.picking_type_production_finish_sz'),])]"/>-->
            <field name="filter" eval="True"/>
            <!--multi company-->
            <field name="context"
                   eval="{'default_move_type':'one','default_picking_type_id': ref('mtlcs_stock.picking_type_production_finish'),'need_department':1,'search_default_uncompleted':1}"/>
            <!--<field name="context"-->
                   <!--eval="{'default_move_type':'one','default_picking_type_id': [ref('mtlcs_stock.picking_type_production_finish'),ref('mtlcs_stock.picking_type_production_finish_sz'),],'need_department':1,'search_default_uncompleted':1}"/>-->
        </record>
        <record id="action_picking_production_finish_tree" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
            <field name="sequence">1</field>
            <field name="view_id" ref="stock.vpicktree"/>
            <field name="act_window_id" ref="action_picking_production_finish"/>
        </record>
        <record id="action_picking_production_finish_form" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence">2</field>
            <field name="view_id" ref="stock_quick_entry.picking_quick_form"/>
            <field name="act_window_id" ref="action_picking_production_finish"/>
        </record>
        <menuitem name="生产到成品" id="menu_picking_production_finish" action="action_picking_production_finish"
                  parent="mtlcs_base.menu_finish_stock_sub" sequence="27"/>

        <!--成品仓/成品库到生产库<-->
        <record id="action_picking_finish_production" model="ir.actions.act_window">
            <field name="name">成品到生产</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <!--multi company-->
            <field name="domain"
                   eval="[('picking_type_id','=',ref('mtlcs_stock.picking_type_finish_production'))]"/>
            <!--<field name="domain"-->
                   <!--eval="[('picking_type_id','in',[ref('mtlcs_stock.picking_type_finish_production'),ref('mtlcs_stock.picking_type_finish_production_sz'),])]"/>-->
            <field name="filter" eval="True"/>
            <!--multi company-->
            <field name="context"
                   eval="{'default_move_type':'one','default_picking_type_id': ref('mtlcs_stock.picking_type_finish_production'),'need_department':1,'search_default_uncompleted':1}"/>
            <!--<field name="context"-->
                   <!--eval="{'default_move_type':'one','default_picking_type_id': [ref('mtlcs_stock.picking_type_finish_production'),ref('mtlcs_stock.picking_type_finish_production_sz')],'need_department':1,'search_default_uncompleted':1}"/>-->
        </record>
        <record id="action_picking_finish_production_tree" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
            <field name="sequence">1</field>
            <field name="view_id" ref="stock.vpicktree"/>
            <field name="act_window_id" ref="action_picking_finish_production"/>
        </record>
        <record id="action_picking_finish_production_form" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence">2</field>
            <field name="view_id" ref="stock_quick_entry.picking_quick_form"/>
            <field name="act_window_id" ref="action_picking_finish_production"/>
        </record>
        <menuitem name="成品到生产" id="menu_picking_finish_production" action="action_picking_finish_production"
                  parent="mtlcs_base.menu_finish_stock_sub" sequence="28"/>
        <menuitem name="成品到生产" id="menu_picking_finish_production_for_quality" action="action_picking_finish_production"
                  parent="quality_control.qc_inspection_menu_parent" sequence="7"/>

        <!--成品仓/生产到待处理-->
        <record id="action_picking_production_pending" model="ir.actions.act_window">
            <field name="name">生产到待处理</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <!--multi company-->
            <field name="domain"
                   eval="[('picking_type_id','=',ref('mtlcs_stock.picking_type_production_pending'))]"/>
            <!--<field name="domain"-->
                   <!--eval="[('picking_type_id','in',[ref('mtlcs_stock.picking_type_production_pending'),ref('mtlcs_stock.picking_type_production_pending_sz'),])]"/>-->
            <field name="filter" eval="True"/>
            <!--multi company-->
            <field name="context"
                   eval="{'default_move_type':'one','default_picking_type_id': ref('mtlcs_stock.picking_type_production_pending'),'need_department':1,'search_default_uncompleted':1}"/>
            <!--<field name="context"-->
                   <!--eval="{'default_move_type':'one','default_picking_type_id': [ref('mtlcs_stock.picking_type_production_pending'),ref('mtlcs_stock.picking_type_production_pending_sz'),],'need_department':1,'search_default_uncompleted':1}"/>-->
        </record>
        <record id="action_picking_production_pending_tree" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
            <field name="sequence">1</field>
            <field name="view_id" ref="stock.vpicktree"/>
            <field name="act_window_id" ref="action_picking_production_pending"/>
        </record>
        <record id="action_picking_production_pending_form" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence">2</field>
            <field name="view_id" ref="stock_quick_entry.picking_quick_form"/>
            <field name="act_window_id" ref="action_picking_production_pending"/>
        </record>
        <menuitem name="生产到待处理" id="menu_picking_production_pending" action="action_picking_production_pending"
                  parent="mtlcs_base.menu_finish_stock_sub" sequence="29"/>

        <!--成品仓/待处理到生产-->
        <record id="action_picking_pending_production" model="ir.actions.act_window">
            <field name="name">待处理到生产</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <!--multi company-->
            <field name="domain"
                   eval="[('picking_type_id','=',ref('mtlcs_stock.picking_type_pending_production'))]"/>
            <!--<field name="domain"-->
                   <!--eval="[('picking_type_id','in',[ref('mtlcs_stock.picking_type_pending_production'),ref('mtlcs_stock.picking_type_pending_production_sz'),])]"/>-->
            <field name="filter" eval="True"/>
            <!--multi company-->
            <field name="context"
                   eval="{'default_move_type':'one','default_picking_type_id': ref('mtlcs_stock.picking_type_pending_production'),'need_department':1,'search_default_uncompleted':1}"/>
            <!--<field name="context"-->
                   <!--eval="{'default_move_type':'one','default_picking_type_id': [ref('mtlcs_stock.picking_type_pending_production'),ref('mtlcs_stock.picking_type_pending_production_sz'),],'need_department':1,'search_default_uncompleted':1}"/>-->

        </record>
        <record id="action_picking_pending_production_tree" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
            <field name="sequence">1</field>
            <field name="view_id" ref="stock.vpicktree"/>
            <field name="act_window_id" ref="action_picking_pending_production"/>
        </record>
        <record id="action_picking_pending_production_form" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence">2</field>
            <field name="view_id" ref="stock_quick_entry.picking_quick_form"/>
            <field name="act_window_id" ref="action_picking_pending_production"/>
        </record>
        <menuitem name="待处理到生产" id="menu_picking_pending_production" action="action_picking_pending_production"
                  parent="mtlcs_base.menu_finish_stock_sub" sequence="30"/>
        <menuitem name="待处理到生产" id="menu_picking_pending_production_for_quality"
                  action="action_picking_pending_production"
                  parent="quality_control.qc_inspection_menu_parent" sequence="8"/>

        <!--成品仓/成品到客户-->
        <record id="action_picking_finish_customers" model="ir.actions.act_window">
            <field name="name">成品到客户</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <!--multi company-->
            <field name="domain"
                   eval="[('picking_type_id','=',ref('mtlcs_stock.picking_type_finish_customers'))]"/>
            <!--<field name="domain"-->
                   <!--eval="[('picking_type_id','in',[ref('mtlcs_stock.picking_type_finish_customers'),ref('mtlcs_stock.picking_type_finish_customers_sz'),])]"/>-->
            <field name="filter" eval="True"/>
            <!--multi company-->
            <field name="context"
                   eval="{'default_move_type':'one','default_picking_type_id': ref('mtlcs_stock.picking_type_finish_customers'),'need_department':1,'search_default_uncompleted':1}"/>
            <!--<field name="context"-->
                   <!--eval="{'default_move_type':'one','default_picking_type_id': [ref('mtlcs_stock.picking_type_finish_customers'),ref('mtlcs_stock.picking_type_finish_customers_sz'),],'need_department':1,'search_default_uncompleted':1}"/>-->

        </record>
        <record id="action_picking_finish_customers_tree" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
            <field name="sequence">1</field>
            <field name="view_id" ref="stock.vpicktree"/>
            <field name="act_window_id" ref="action_picking_finish_customers"/>
        </record>
        <record id="action_picking_finish_customers_form" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence">2</field>
            <field name="view_id" ref="stock_quick_entry.picking_quick_form"/>
            <field name="act_window_id" ref="action_picking_finish_customers"/>
        </record>
        <menuitem name="成品到客户" id="menu_picking_finish_customers" action="action_picking_finish_customers"
                  parent="mtlcs_base.menu_finish_stock_sub" sequence="39"/>

        <!--成品仓/客户到待处理-->
        <record id="action_picking_customers_pending" model="ir.actions.act_window">
            <field name="name">客户到待处理</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <!--multi company-->
            <field name="domain" eval="[('picking_type_id','=',ref('mtlcs_stock.picking_type_customers_pending'))]"/>

            <field name="filter" eval="True"/>
            <!--multi company-->
            <field name="context"
                   eval="{'default_move_type':'one','default_picking_type_id': ref('mtlcs_stock.picking_type_customers_pending'),'need_department':1,'search_default_uncompleted':1}"/>
            <!--<field name="context"-->
                   <!--eval="{'default_move_type':'one','default_picking_type_id': [ref('mtlcs_stock.picking_type_customers_pending'),ref('mtlcs_stock.picking_type_customers_pending_sz'),],'need_department':1,'search_default_uncompleted':1}"/>-->
        </record>
        <record id="action_picking_customers_pending_tree" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
            <field name="sequence">1</field>
            <field name="view_id" ref="stock.vpicktree"/>
            <field name="act_window_id" ref="action_picking_customers_pending"/>
        </record>
        <record id="action_picking_customers_pending_form" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence">2</field>
            <field name="view_id" ref="stock_quick_entry.picking_quick_form"/>
            <field name="act_window_id" ref="action_picking_customers_pending"/>
        </record>
        <menuitem name="客户到待处理" id="menu_picking_customers_pending" action="action_picking_customers_pending"
                  parent="mtlcs_base.menu_finish_stock_sub" sequence="40"/>

        <!--成品仓/待处理到客户-->
        <record id="action_picking_pending_customers" model="ir.actions.act_window">
            <field name="name">待处理到客户</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <!--multi company-->
            <field name="domain"
                   eval="[('picking_type_id','=',ref('mtlcs_stock.picking_type_pending_customers'))]"/>
            <!--<field name="domain"-->
                   <!--eval="[('picking_type_id','in',[ref('mtlcs_stock.picking_type_pending_customers'),ref('mtlcs_stock.picking_type_pending_customers_sz'),])]"/>-->
            <field name="filter" eval="True"/>
            <!--multi company-->
            <field name="context"
                   eval="{'default_move_type':'one','default_picking_type_id': ref('mtlcs_stock.picking_type_pending_customers'),'need_department':1,'search_default_uncompleted':1}"/>
            <!--<field name="context"-->
                   <!--eval="{'default_move_type':'one','default_picking_type_id': [ref('mtlcs_stock.picking_type_pending_customers'),ref('mtlcs_stock.picking_type_pending_customers_sz'),],'need_department':1,'search_default_uncompleted':1}"/>-->
        </record>
        <record id="action_picking_pending_customers_tree" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
            <field name="sequence">1</field>
            <field name="view_id" ref="stock.vpicktree"/>
            <field name="act_window_id" ref="action_picking_pending_customers"/>
        </record>
        <record id="action_picking_pending_customers_form" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence">2</field>
            <field name="view_id" ref="stock_quick_entry.picking_quick_form"/>
            <field name="act_window_id" ref="action_picking_pending_customers"/>
        </record>
        <menuitem name="待处理到客户" id="menu_picking_pending_customers" action="action_picking_pending_customers"
                  parent="mtlcs_base.menu_finish_stock_sub" sequence="41"/>

        <!--成品仓/成品到报废-->
        <record id="action_picking_finish_ng" model="ir.actions.act_window">
            <field name="name">成品到报废</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <!--multi company-->
            <field name="domain"
                   eval="[('picking_type_id','=',ref('mtlcs_stock.picking_type_finish_ng'))]"/>
            <!--<field name="domain"-->
                   <!--eval="[('picking_type_id','in',[ref('mtlcs_stock.picking_type_finish_ng'),ref('mtlcs_stock.picking_type_finish_ng_sz'),])]"/>-->
            <field name="filter" eval="True"/>
            <!--multi company-->
            <field name="context"
                   eval="{'default_move_type':'one','default_picking_type_id': ref('mtlcs_stock.picking_type_finish_ng'),'need_department':1,'search_default_uncompleted':1}"/>
            <!--<field name="context"-->
                   <!--eval="{'default_move_type':'one','default_picking_type_id': [ref('mtlcs_stock.picking_type_finish_ng'),ref('mtlcs_stock.picking_type_finish_ng_sz'),],'need_department':1,'search_default_uncompleted':1}"/>-->

        </record>
        <record id="action_picking_finish_ng_tree" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
            <field name="sequence">1</field>
            <field name="view_id" ref="stock.vpicktree"/>
            <field name="act_window_id" ref="action_picking_finish_ng"/>
        </record>
        <record id="action_picking_finish_ng_form" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence">2</field>
            <field name="view_id" ref="stock_quick_entry.picking_quick_form"/>
            <field name="act_window_id" ref="action_picking_finish_ng"/>
        </record>
        <menuitem name="成品到报废" id="menu_picking_finish_ng" action="action_picking_finish_ng"
                  parent="mtlcs_base.menu_finish_stock_sub" sequence="42"/>

        <!--成品仓/成品到报废-->
        <record id="action_picking_pending_ng" model="ir.actions.act_window">
            <field name="name">待处理到报废</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <!--multi company-->
            <field name="domain"
                   eval="[('picking_type_id','=',ref('mtlcs_stock.picking_type_pending_ng'))]"/>
            <!--<field name="domain"-->
                   <!--eval="[('picking_type_id','in',[ref('mtlcs_stock.picking_type_pending_ng'),ref('mtlcs_stock.picking_type_pending_ng_sz'),])]"/>-->
            <field name="filter" eval="True"/>
            <!--multi company-->
            <field name="context"
                   eval="{'default_move_type':'one','default_picking_type_id': ref('mtlcs_stock.picking_type_pending_ng'),'need_department':1,'search_default_uncompleted':1}"/>
            <!--<field name="context"-->
                   <!--eval="{'default_move_type':'one','default_picking_type_id': [ref('mtlcs_stock.picking_type_pending_ng'),ref('mtlcs_stock.picking_type_pending_ng_sz'),],'need_department':1,'search_default_uncompleted':1}"/>-->

        </record>
        <record id="action_picking_pending_ng_tree" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
            <field name="sequence">1</field>
            <field name="view_id" ref="stock.vpicktree"/>
            <field name="act_window_id" ref="action_picking_pending_ng"/>
        </record>
        <record id="action_picking_pending_ng_form" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence">2</field>
            <field name="view_id" ref="stock_quick_entry.picking_quick_form"/>
            <field name="act_window_id" ref="action_picking_pending_ng"/>
        </record>
        <menuitem name="待处理到报废" id="menu_picking_pending_ng" action="action_picking_pending_ng"
                  parent="mtlcs_base.menu_finish_stock_sub" sequence="43"/>

        <!--==========1202-->
        <record id="action_inventory_line" model="ir.actions.act_window">
            <field name="name">盘存明细</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">stock.inventory.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree</field>
            <field name="view_id" ref=""/>
        </record>
        <menuitem name="盘存明细" action="action_inventory_line" id="menu_action_inventory_line"
                  parent="stock.menu_stock_inventory_control" sequence="35"/>


        <!--multi company-->
        <!--<record id="mtlcs_view_production_lot_form" model="ir.ui.view">-->
            <!--<field name="name">mtlcs.stock.production.lot.form</field>-->
            <!--<field name="model">stock.production.lot</field>-->
            <!--<field name='inherit_id' ref='stock.view_production_lot_form'/>-->
            <!--<field name="arch" type="xml">-->
                <!--<field name="ref" position="after">-->
                    <!--<field name="company_id" />-->
                <!--</field>-->
            <!--</field>-->
        <!--</record>-->


        <!--=====================================================================================================================0905-->

    </data>
</openerp>